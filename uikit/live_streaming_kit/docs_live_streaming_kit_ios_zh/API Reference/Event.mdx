# Event

## ZegoUIKitPrebuiltLiveStreamingVCDelegate



### getForegroundView

- 函数原型:

    ```swift
    func getForegroundView(_ userInfo: ZegoUIKitUser?) -> ZegoBaseAudioVideoForegroundView?
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func getForegroundView(_ userInfo: ZegoUIKitUser?) -> ZegoBaseAudioVideoForegroundView? {
            let view = ZegoBaseAudioVideoForegroundView(frame: CGRect(x: 0, y: 0, width: 100, height: 100), userID: userInfo?.userID, delegate: nil)
            //...
            return view
        }
    }
    ```



### onLeaveLiveStreaming

- 函数原型:

    ```swift
    func onLeaveLiveStreaming()
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func onLeaveLiveStreaming() {
            print("is leave live streaming")
            //....
        }
    }
    ```





### onLiveStreamingEnded

- 函数原型:

    ```swift
    func onLiveStreamingEnded()
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func onLiveStreamingEnded() {
            print("live streaming is end")
            //....
       }
    }
    ```



### onStartLiveButtonPressed

- 函数原型:

    ```swift
    func onStartLiveButtonPressed()
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func onStartLiveButtonPressed() {
            print("start live button is click")
            //....
        }
    }
    ```





### getPKBattleTopView

- 函数原型:

    ```swift
    func getPKBattleTopView(_ parentView: UIView, userList: [ZegoUIKitUser]) -> UIView?
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
       func getPKBattleTopView(_ parentView: UIView, userList: [ZegoUIKitUser]) -> UIView? {
           let view = UIView()
           view.backgroundColor = UIColor.red
           return view
        }
    }
    ```

###  getPKBattleForegroundView

- 函数原型:

    ```swift
    func getPKBattleForegroundView(_ parentView: UIView, userInfo: ZegoUIKitUser) -> UIView?
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func getPKBattleForegroundView(_ parentView: UIView, userInfo: ZegoUIKitUser) -> UIView? {
            let view = UIView()
            let button: MutePKUserButton = MutePKUserButton()
            button.frame = CGRect(x: 30, y: 30, width: 80, height: 40)
            view.addSubview(button)
            return view
        }
    }
    ```



### getPKBattleBottomView

- 函数原型:

    ```swift
    func getPKBattleBottomView(_ parentView: UIView, userList: [ZegoUIKitUser]) -> UIView?
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func getPKBattleBottomView(_ parentView: UIView, userList: [ZegoUIKitUser]) -> UIView? {
            let view = UIView()
            view.backgroundColor = UIColor.red
            return view
        }
    }
    ```



### onInRoomMessageClick

- 函数原型:

    ```swift
    func onInRoomMessageClick(_ message: ZegoInRoomMessage)
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func onInRoomMessageClick(_ message: ZegoInRoomMessage) {
        // ...
        // ZegoInRoomMessage 具有以下属性
        // public var message: String?
        // public var messageID: Int64 = 0
        // public var sendTime: UInt64 = 0
        // public var user: ZegoUIKitUser?
        }
    }
    ```




### onIMRecvBarrageMessage

- 函数原型:

    ```swift
    func onIMRecvBarrageMessage(_ roomID: String, messageList: [ZegoUIKitBarrageMessageInfo])
    ```

- 示例:

    ```swift
    extension ViewController: ZegoUIKitPrebuiltLiveStreamingVCDelegate {
        func func onIMRecvBarrageMessage(_ roomID: String, messageList: [ZegoUIKitBarrageMessageInfo]) {
        // ...
        // ZegoInRoomMessage 具有以下属性
        // public var message: String?
        // public var messageID: String?
        // public var sendTime: CUnsignedLongLong = 0
        // public var user: ZegoUIKitUser?
        }
    }
    ```




## ZegoLiveStreamingManagerDelegate



### onIncomingCohostRequest

- 函数原型:

    ```swift
    func onIncomingCohostRequest(inviter: ZegoUIKitUser)
    ```

- 示例:

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingCohostRequest(inviter: ZegoUIKitUser) {
            //...
        }
    }
    ```



### onIncomingInviteToCohostRequest

- 函数原型:

    ```swift
    func onIncomingInviteToCohostRequest(inviter: ZegoUIKitUser, invitationID: String)
    ```

- 示例:

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingInviteToCohostRequest(inviter: ZegoUIKitUser, invitationID: String) {
            //...
        }
    }
    ```



### onIncomingRemoveCohostRequest

- 函数原型:

    ```swift
    func onIncomingRemoveCohostRequest(inviter: ZegoUIKitUser)
    ```

- 示例:

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingRemoveCohostRequest(inviter: ZegoUIKitUser) {
            //...
        }
    }
    ```



### onIncomingAcceptCohostRequest

- 函数原型:

    ```swift
    func onIncomingAcceptCohostRequest(invitee: ZegoUIKitUser, data: String?)
    ```

- 示例:

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
    func onIncomingAcceptCohostRequest(invitee: ZegoUIKitUser, data: String?) {
        //...
    }
    }
    ```



### onIncomingCancelCohostRequest

- 函数原型:

    ```swift
    func onIncomingCancelCohostRequest(inviter: ZegoUIKitUser, data: String?)
    ```

- 示例:

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingCancelCohostRequest(inviter: ZegoUIKitUser, data: String?) {
            //...
        }
    }
    ```



### onIncomingRefuseCohostRequest

- 函数原型：

    ```swift
    func onIncomingRefuseCohostRequest(invitee: ZegoUIKitUser, data: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingRefuseCohostRequest(invitee: ZegoUIKitUser, data: String?) {
            // ...
        }
    }
    ```



### onIncomingRefuseCohostInvite

- 函数原型：

    ```swift
    func onIncomingRefuseCohostInvite(invitee: ZegoUIKitUser, data: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingRefuseCohostInvite(invitee: ZegoUIKitUser, data: String?) {
            // ...
        }
    }
    ```



### onIncomingCohostRequestTimeOut

- 函数原型：

    ```swift
    func onIncomingCohostRequestTimeOut(inviter: ZegoUIKitUser, data: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingCohostRequestTimeOut(inviter: ZegoUIKitUser, data: String?) {
            // ...
        }
    }
    ```



### onIncomingCohostInviteTimeOut

- 函数原型：

    ```swift
    func onIncomingCohostInviteTimeOut(inviter: ZegoUIKitUser, data: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingCohostInviteTimeOut(inviter: ZegoUIKitUser, data: String?) {
            //...
        }
    }
    ```



### onIncomingCohostInviteResponseTimeOut

- 函数原型：

    ```swift
    func onIncomingCohostInviteResponseTimeOut(invitees: [ZegoUIKitUser], data: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingCohostInviteResponseTimeOut(invitees: [ZegoUIKitUser], data: String?) {
            //...
        }
    }
    ```



### onIncomingCohostRequestResponseTimeOut

- 函数原型：

    ```swift
    func onIncomingCohostInviteResponseTimeOut(invitees: [ZegoUIKitUser], data: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingCohostInviteResponseTimeOut(invitees: [ZegoUIKitUser], data: String?) {
            //...
        }
    }
    ```



### onIncomingPKRequestReceived

- 函数原型：

    ```swift
    func onIncomingPKRequestReceived(requestID: String, 
                                    anotherHostUser: ZegoUIKitUser, 
                                    anotherHostLiveID: String, 
                                    customData: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingPKRequestReceived(requestID: String, 
                                            anotherHostUser: ZegoUIKitUser, 
                                            anotherHostLiveID: String, 
                                            customData: String?) {
            //...
        }
    }
    ```



### onIncomingResumePKRequestReceived

- 函数原型：

    ```swift
    func onIncomingResumePKRequestReceived(requestID: String)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
    func onIncomingResumePKRequestReceived(requestID: String) {
        //...
    }
    }
    ```



### onIncomingPKRequestCancelled

- 函数原型：

    ```swift
    func onIncomingPKRequestCancelled(anotherHostLiveID: String, 
                                    anotherHostUser: ZegoUIKitUser, 
                                    customData: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingPKRequestCancelled(anotherHostLiveID: String, 
                                            anotherHostUser: ZegoUIKitUser, 
                                            customData: String?) {
            //...
        }
    }
    ```



### onOutgoingPKRequestAccepted

- 函数原型：

    ```swift
    func onOutgoingPKRequestAccepted(anotherHostLiveID: String,
                                    anotherHostUser: ZegoUIKitUser, 
                                    customData: String?)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onOutgoingPKRequestAccepted(anotherHostLiveID: String, 
                                            anotherHostUser: ZegoUIKitUser, 
                                            customData: String?) {
            //...
        }
    }
    ```



### onOutgoingPKRequestRejected

- 函数原型：

    ```swift
    func onOutgoingPKRequestRejected(reason: Int, anotherHostUser: ZegoUIKitUser)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onOutgoingPKRequestRejected(reason: Int, anotherHostUser: ZegoUIKitUser) {
            //...
        }
    }
    ```



### onIncomingPKRequestTimeout

- 函数原型：

    ```swift
    func onIncomingPKRequestTimeout(requestID: String, anotherHostUser: ZegoUIKitUser)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onIncomingPKRequestTimeout(requestID: String, anotherHostUser: ZegoUIKitUser) {
            //...
        }
    }
    ```



### onOutgoingPKRequestTimeout

- 函数原型：

    ```swift
    func onOutgoingPKRequestTimeout(requestID: String, anotherHost: ZegoUIKitUser)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onOutgoingPKRequestTimeout(requestID: String, anotherHost: ZegoUIKitUser) {
            //...
        }
    }
    ```



### onPKStarted

- 函数原型：

    ```swift
    func onPKStarted(roomID: String, userID: String)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onPKStarted(roomID: String, userID: String) {
            //...
        }
    }
    ```



### onPKEnded

- 函数原型：

    ```swift
    func onPKEnded()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onPKEnded() {
            //...
        }
    }
    ```



### onPKViewAvaliable

- 函数原型：

    ```swift
    func onPKViewAvaliable()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onPKViewAvaliable() {
            //...
        }
    }
    ```



### onLocalHostCameraStatus

- 函数原型：

    ```swift
    func onLocalHostCameraStatus(isOn: Bool)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onLocalHostCameraStatus(isOn: Bool) {
            //...
        }
    }
    ```



### onAnotherHostCameraStatus

- 函数原型：

    ```swift
    func onAnotherHostCameraStatus(isOn: Bool)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onAnotherHostCameraStatus(isOn: Bool) {
            //...
        }
    }
    ```



### onAnotherHostIsReconnecting

- 函数原型：

    ```swift
    func onAnotherHostIsReconnecting()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onAnotherHostIsReconnecting() {
            //...
        }
    }
    ```



### onAnotherHostIsConnected

- 函数原型：

    ```swift
    func onAnotherHostIsConnected()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onAnotherHostIsConnected() {
            //...
        }
    }
    ```



### onHostIsReconnecting

- 函数原型：

    ```swift
    func onHostIsReconnecting()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onHostIsReconnecting() {
            //...
        }
    }
    ```



### onHostIsConnected

- 函数原型：

    ```swift
    func onHostIsConnected()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onHostIsConnected() {
            //...
        }
    }
    ```



### onMixerStreamTaskFail

- 函数原型：

    ```swift
    func onMixerStreamTaskFail(errorCode: Int)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onMixerStreamTaskFail(errorCode: Int) {
            //...
        }
    }
    ```



### onStartPlayMixerStream

- 函数原型：

    ```swift
    func onStartPlayMixerStream()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onStartPlayMixerStream() {
            //...
        }
    }
    ```



### onStopPlayMixerStream

- 函数原型：

    ```swift
    func onStopPlayMixerStream()
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onStopPlayMixerStream() {
            //...
        }
    }
    ```



### onOtherHostMuted

- 函数原型：

    ```swift
    func onOtherHostMuted(userID: String, mute: Bool)
    ```

- 示例：

    ```swift
    extension ViewController: ZegoLiveStreamingManagerDelegate {
        func onOtherHostMuted(userID: String, mute: Bool) {
            //...
        }
    }
    ```
