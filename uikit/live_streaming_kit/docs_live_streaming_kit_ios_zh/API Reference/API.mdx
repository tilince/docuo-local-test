# API



## ZegoLiveStreamingManager



### addLiveManagerDelegate

您可以调用此接口监听直播事件，例如连麦请求事件、PK 事件。

```swift
/// 添加直播事件监听器
/// - 参数 delegate: 观察者
public func addLiveManagerDelegate(_ delegate: ZegoLiveStreamingManagerDelegate)
```



### getHostID

您可以调用此接口获取当前房间的主持人 ID。

```swift
/// 获取主持人ID
/// - 返回值: 主持人ID
public func getHostID() -> String
```



### isHost

您可以调用此接口确定用户是否为主持人。

```swift
/// 确定用户是否是主持人？
/// - 参数 userID: 用户的唯一标识符
/// - 返回值: 结果为 'true' 表示该人是主持人，'false' 表示不是。
public func isHost(_ userID: String) -> Bool
```



### isCurrentUserHost

您可以调用此接口确定您是否是主持人。

```swift
/// 当前用户是否是主持人？
/// - 返回值: 返回结果为 'true' 代表是，'false' 代表不是。
public func isCurrentUserHost() -> Bool
```



### isCurrentUserCoHost

您可以调用此接口确定您是否是连麦用户。

```swift
/// 当前用户是否是连麦用户？
/// - 返回值: 返回结果为 'true' 代表是，'false' 代表不是。
public func isCurrentUserCoHost() -> Bool
```



### stopPKBattle

您可以调用此接口请求停止 PK。

```swift
/// 发送停止 PK 请求
public func stopPKBattle()
```



### acceptIncomingPKBattleRequest

您可以调用此接口接受收到的 PK 请求。
您可以使用 `customData` 参数向邀请者传递一些数据。

```swift
/// 接受PK邀请
/// - 参数：
///   - requestID: PK请求的唯一ID
///   - anotherHostLiveID: 发送者的直播ID
///   - anotherHostUser: 发送者
///   - customData: 自定义数据
public func acceptIncomingPKBattleRequest(_ requestID: String, 
                                           anotherHostLiveID: String, 
                                           anotherHostUser: ZegoUIKitUser, 
                                           customData: String)
```



### rejectPKBattleStartRequest

您可以调用此接口拒绝 PK 请求。

```swift
/// 拒绝 PK 请求
/// - 参数 requestID: PK 请求的唯一 ID
public func rejectPKBattleStartRequest(_ requestID: String)
```



### muteAnotherHostAudio

您可以调用此接口阻止或接收 PK 用户的音频流。

```swift
/// 是否阻止自其他连麦用户的音频
/// - 参数：
///   - mute: true 表示阻止，false 表示接收。
///   - callback: 操作结果的回调
public func muteAnotherHostAudio(_ mute: Bool, callback: ZegoUIKitCallBack?)
```



### sendPKBattleRequest

您可以调用此接口发送 PK 邀请。
函数原型：

```swift
/// 发送 PK 邀请
/// - 参数：
///   - anotherHostUserID: 被邀请用户的 ID
///   - timeout: 请求超时限制，默认值为 60 秒
///   - customData: 需要传递的自定义数据。
///   - callback: 请求结果的回调
public func sendPKBattleRequest(anotherHostUserID: String,
                                 timeout: UInt32 = 60,
                                 customData: String,
                                 callback: UserRequestCallback?)
```



### cancelPKBattleRequest

您可以调用此接口取消您发出的 PK 请求。

```swift
public func cancelPKBattleRequest(customData: String?, callback: UserRequestCallback?)
```



### leaveRoom

您可以调用此接口退出直播房间。

```swift
/// 离开房间
public func leaveRoom()
```



## ZegoUIKitPrebuiltLiveStreamingVC



### init

您必须调用此接口初始化直播页面。
您可以使用 liveID 参数为当前直播设置一个 ID。
您可以通过 `config` 参数配置直播页面的显示和功能，例如相机的开关状态、布局模式和底部栏的显示。

```swift
public init(_ appID: UInt32, 
             appSign: String, 
             userID: String, 
             userName: String, 
             liveID: String, 
             config: ZegoUIKitPrebuiltLiveStreamingConfig) 
```



### addButtonToBottomMenuBar

您可以调用此接口向底部栏添加自定义按钮。
您可以设置 `role` 参数控制按钮显示的身份场景。
`position`：设置按钮添加的方向。默认添加在左边

```swift
public func addButtonToBottomMenuBar(_ button: UIButton, role: ZegoLiveStreamingRole, position:ZegoBottomMenuBarPosition = .left) 
```



### setStartLiveButton

您可以调用此接口自定义开始直播按钮。

```swift
public func setStartLiveButton(_ button: ZegoStartLiveButton) 
```



### clearBottomMenuBarExtendButtons

您可以调用此接口清空通过 `addButtonToBottomMenuBar` 添加的按钮。

```swift
public func clearBottomMenuBarExtendButtons(_ role: ZegoLiveStreamingRole)
```



### setBackgroundView

您可以调用此接口自定义直播页面的背景视图。

```swift
public func setBackgroundView(_ view: UIView)
```



### leaveRoom

您可以调用此接口退出直播房间。

```swift
public func leaveRoom()
```



### sendBarrageMessage

您可以调用此接口发送弹幕消息。

```swift
public func sendBarrageMessage(roomID: String, message: String, callback: ((Int, String) -> Void)?) 
```
